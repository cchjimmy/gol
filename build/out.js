(()=>{function C(t,e,n){let m=e.length/t,i=t,h=new Array(e.length);for(let c=0;c<m;++c){let s=0,r=c-1;r=r<0?0:r;let g=c+1;g=g>=m?m-1:g;for(let o=r;o<=g;++o)for(let p=0;p<2;++p)s+=e[o*i+p];for(let o=0;o<i;++o){let p=e[c*i+o];h[c*i+o]=n[p][s-p];let H=o+2<i,L=o-1>=0;for(let w=r;w<=g;++w)H&&(s+=e[w*i+o+2]),L&&(s-=e[w*i+o-1])}}return h}function E(t,e,n,m="#FFFF00"){let i=e.length/t,h=t,c=n.fillStyle;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=m,n.beginPath();for(let s=0;s<i;++s)for(let r=0;r<h;++r)e[s*h+r]&&n.fillRect(r,s,1,1);n.fill(),n.fillStyle=c}var l=document.querySelector("canvas"),M=l.getContext("2d"),j=document.querySelector("#clear"),k=document.querySelector("#pause"),B=document.querySelector("#speed"),D=document.querySelector("span"),f=100,d=100,S=6;l.width=f;l.height=d;l.style.width=`${f*S}px`;l.style.height=`${d*S}px`;l.style.position="absolute";l.style.top="50%";l.style.left="50%";l.style.transform="translate(-50%, -50%)";l.style.background="#000000";l.style.touchAction="none";l.style.zIndex="-1";var P=[[0,0,0,1,0,0,0,0,0],[0,0,1,1,0,0,0,0,0]],y=new Array(f*d).fill(0),F=!1;window.onpointerdown=()=>F=!0;window.onpointerup=()=>F=!1;var a,u;window.onpointermove=t=>{let e=getComputedStyle(l),n=(innerHeight-parseFloat(e.height))/2,m=(innerWidth-parseFloat(e.width))/2;a=(t.x-m)/S,u=(t.y-n)/S,a=Math.round(a),u=Math.round(u)};j.onclick=()=>y.fill(0);var b=150;D.innerText=`${b}`;var v=!1;k.onclick=()=>v=!v;B.onchange=t=>{let e=t.target.value;b=parseFloat(e),D.innerText=e};var T=performance.now();function R(t){let e=performance.now()-T;E(f,y,t),t.fillStyle="#FF0000",t.fillRect(a,u,1,1),F&&a>=0&&a<=f&&u>=0&&u<=d&&(a=A(a,0,f),u=A(u,0,d),y[u*f+a]=1),!v&&e>b&&(y=C(f,y,P),T=performance.now()),requestAnimationFrame(()=>R(t))}M&&R(M);function A(t,e,n){return Math.min(Math.max(t,e),n)}})();
